# Контрибьютинг в beCycled

## Информация о проекте

### Запуск и тестирование

Ниже описаны скрипты запуска из файла [package.json](package.json):

| Название | Описание |
|----|----|
| `start` | Запуск проекта в режиме разработки |
| `start:fake-backend` | Запуск тестового бекенда для разработки с помощью [json-server](https://github.com/typicode/json-server) |
| `build` | Сборка проекта в режиме разработки |
| `build:prod` | Сборка проекта в боевом режиме |
| `test` | Запуск тестов |
| `lint` | Запуск линтовки |
| `e2e` | Запуск e2e-тестов |

### Git

#### Формат названий веток

Все ветки задач имееют следующий формат:

```text
issue-<номер-задачи>
```

где `<номер-задачи>` - название задачи, за которую вы взялись.

#### Формат сообщений 

У проекта есть очень точные правила о том, как должны быть отформатированы наши сообщения коммитов Git. Этот формат упрощает чтение истории коммитов.

Каждый коммит содержит заголовок, тело и послесловие:

```text
<заголовок>
<ПУСТАЯ СТРОКА>
<тело>
<ПУСТАЯ СТРОКА>
<послесловие>
```

##### Формат заголовка

```text
<тип>: <краткое-описание> (#<номер-задачи>)
```
Поля `<тип>` и `<краткое-описание>` обязательны!

###### Тип

Должен быть один из приведенных ниже:

| Тип | Описание |
|---|---|
| build | Изменения затрагивающие систему сброки или добавления/удаления/изменения зависимостией |
| ci | Изменения настроек CI файлов или скриптов |
| docs | Только изменения документации |
| feat | Новая функциональность |
| fix | Изменения ошибки или неточностей |
| perf | Изменения связанные с улучшением производительности |
| refactor | Переписывание кода не влияющее на функциональсть |
| test | Добавление тестов или правка уже существующих |

###### Описание

- используйте безличный глагол в прошедшем времени: "добавлено", "реализовано", не "добавил", не "добавление"
- первая буква большая
- не используйте точку в конце

##### Тело коммита

Здесь вы можете более подробно описать коммит, что вы сделали и так далее. Ограничения по длине тут нет, чем подробнее тем лучше.

По возможности вы должны описать мотивацию коммитов, почему и зачем вы добавили/исправили/реализовано те или иные ошибки/функциональности.

В среднем размер составляет ~500 символов. Так же можно использовать Markdown.

##### Послесловие комита

Чаще всего тут указывают ссылку на задачу или PR которые закрывает этот коммит. Ссылка на задачу **обязательна**, тогда как ссылка на PR нет. Читайте подробнее [Linking a pull request to an issue](https://docs.github.com/en/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue).

```text
Closes #123

PR Closes #125
```

## Создание

### Задачи

Перед тем как создавать новую задачу, убедитесь, что такой еще нет. Если вы проверили на предмет дубликатов, то можете создать новую задачу.

### PR

Чтобы созать пулл реквест следуйте следущей инструкции:

1. Проверьте что такого PR еще нет
2. [Форкните](https://docs.github.com/en/github/getting-started-with-github/fork-a-repo) этот репозиторий
3. В вашем форкнутом репозитории, внесите изменения в отдельную ветку
4. Запустите все тесты и убедитесь что они проходят
5. Создайте коммит, следуя формату описанному выше
6. Отправьте ваши изменения в Github
7. В Github создайте PR в `main` ветку

## Выпуск версии

Инструкции к выпуску новой версии (**только для core-мейнтейнеров**):

1. Слейте PR ветку в `main` ветку
2. После этого переключитесь на `main` ветки и выполнител следующую команду
    
  ```bash
  npm version <new-version> -m 'chore: Обновлена версия до %s'
  ```

  где `new-version` новая версия

3. Отправьте комиты и новые теги

  ```bash
  git push && git push --tags 
  ```
