<tui-island *tuiLet="competition$ | async as competition">
  <ng-container *ngIf="competition">
    <h3 class="tui-island__title">{{ generateStartTime(competition.startDate) }}</h3>
    <p class="tui-island__category">Соревнование</p>
    <mgl-map
      [style]="'mapbox://styles/mapbox/streets-v11'"
      [fitBounds]="bounds$ | async"
      [fitBoundsOptions]="{ padding: 8, linear: true }"
      [attributionControl]="false"
      [doubleClickZoom]="false"
      [zoom]="15"
      [center]="[ 39.949127487394094,43.414052415946685 ]"
      (mapLoad)="onMapboxLoad($event)"
    >
      <mgl-geojson-source
        id="geojson-route"
        [data]="geoJson$ | async"
      >
      </mgl-geojson-source>
      <mgl-layer
        id="route"
        type="line"
        source="geojson-route"
        [paint]="{
          'line-color': '#0093D1',
          'line-width': 4
        }"
      >
      </mgl-layer>
      <mgl-control mglNavigation></mgl-control>
      <mgl-control position="bottom-right" mglFullscreen></mgl-control>
    </mgl-map>
    <ul class="icon-list">
      <li>
      <span class="material-icons-outlined">
        emoji_people
      </span>
        <span>
        Вид спорта: {{ sportTypeMap[competition.sportType] }}
      </span>
      </li>
      <li>
      <span class="material-icons-outlined">
        moving
      </span>
        <span>
        Дистанция: {{ generateDistanceString(distance$ | async) }}
      </span>
      </li>
      <li *ngIf="competition.duration > 0">
      <span class="material-icons-outlined">
        access_time
      </span>
        <span>
        Длительность: {{ generateDurationString(competition.duration) }}
      </span>
      </li>
      <li>
      <span class="material-icons-outlined">
        description
      </span>
        <span>
        Описание: {{ competition.description }}
      </span>
      </li>
      <li>
      <span class="material-icons-outlined">
        group
      </span>
        <span>
        Участники: {{ competition.userIds.length }}
      </span>
      </li>
    </ul>
  </ng-container>
</tui-island>
